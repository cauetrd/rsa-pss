#include "./Maths/GMP/Miller-Rabin.hpp"

#include <iostream>
#include <gmpxx.h>
#include <cstring>
#include <cstdlib>
#include <string>

using namespace std;

int main(){
    
    mpz_class composite("48");
    mpz_class prime("61");
    mpz_class bigcomposite("7625597484987369372399393939993993939399939396963963963936936396396396393693696969363963963936936396393693693639639369363963936936396393693696396393393936939696393993363939363939393936933963936936396393693693639639693696936969333333333333333333333333333333333333333333333666666666666666666666666");
    mpz_class bigprime("231957225140883430233819607664855970021351100653357792153573941832177466227296722269229186082885621367985303142692837687002118640402738494741756437240096629754735748947935831228487418449533702178340222921649269226568234009608842687250752107400558956380812969917202630036111091473572761758288806523524367002043778720148504536885321899984657605809494226618328115529074892158722416211873499417895362913226049319027779104003134509835519299836712460431116847542625811882593548890076601094457289160407816185368018061445352284289911468619989344347472632907261691465744329796405522188834117643766119768058763519939405524006071634725366716337425820092862348113219626258199087340297940859992824975354378265596620866314713007398019243008013051269574301583032482490768205884504748294485075419781687787193092050921545708296065669312353202567641489406505783752966959988448245574683142888250276411021914781093413164138272454541089121248687826693931682214498125845449265579535475760200127433698489640309915244951130166131510728337361682004814702248968435701254697420194565645317273301084610947578806646449099665895147003295287377774516777196542215182899152062366867681001392675813818961830115978405378114382388231764707451348732033534252018855873291");

    // Testa composite
    cout << composite << " is ";
    if (MillerRabin(composite)) {
        cout << "prime";
    } else {
        cout << "composite";
    }
    cout << endl;

    // Testa prime
    cout << prime << " is ";
    if (MillerRabin(prime)) {
        cout << "prime";
    } else {
        cout << "composite";
    }
    cout << endl;

    // Testa bigcomposite
    cout << bigcomposite << " is ";
    if (MillerRabin(bigcomposite)) {
        cout << "prime";
    } else {
        cout << "composite";
    }
    cout << endl;

    // Testa bigprime
    cout << bigprime << " is ";
    if (MillerRabin(bigprime)) {
        cout << "prime";
    } else {
        cout << "composite";
    }
    cout << endl;

    return 0;
}